<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Queue Management - ‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Æ©‡Øà ‡Æµ‡Æ∞‡Æø‡Æö‡Øà ‡ÆÆ‡Øá‡Æ≤‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà</title>
    <style>
        /* ============================================
           MEDIBOT CHATBOT WIDGET - PURE JS VERSION
           ============================================ */

        /* Base Styles & Font */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f9fafb;
            /* A light grey background for the demo page */
        }

        .medibot-widget * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Floating Action Button (FAB) */
        .medibot-fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
        }

        .medibot-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .medibot-fab svg {
            width: 28px;
            height: 28px;
            fill: white;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            position: absolute;
        }

        .medibot-fab .medibot-fab-icon-close {
            opacity: 0;
            transform: rotate(-90deg);
        }

        .medibot-fab.active .medibot-fab-icon-open {
            opacity: 0;
            transform: rotate(90deg);
        }

        .medibot-fab.active .medibot-fab-icon-close {
            opacity: 1;
            transform: rotate(0deg);
        }

        /* Chat Window */
        .medibot-window {
            position: fixed;
            bottom: 90px;
            right: 24px;
            width: 400px;
            max-width: calc(100vw - 32px);
            height: 600px;
            max-height: calc(100vh - 120px);
            background: white;
            border-radius: 16px;
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.25);
            display: flex;
            flex-direction: column;
            z-index: 9999;
            opacity: 0;
            transform: scale(0.9) translateY(20px);
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .medibot-window.active {
            opacity: 1;
            transform: scale(1) translateY(0);
            pointer-events: all;
        }

        /* Header */
        .medibot-header {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-shrink: 0;
        }

        .medibot-header-avatar {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .medibot-header-info h3 {
            color: white;
            font-size: 16px;
            font-weight: 600;
        }

        .medibot-header-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #ddd6fe;
        }

        .medibot-status-dot {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: medibot-pulse 2s infinite;
        }

        @keyframes medibot-pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.6;
            }
        }

        /* Messages Area */
        .medibot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f3f4f6;
        }

        .medibot-message {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
            align-items: flex-end;
            animation: medibot-fadeIn 0.4s ease-out;
        }

        @keyframes medibot-fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .medibot-message.user {
            flex-direction: row-reverse;
        }

        .medibot-message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .medibot-message.bot .medibot-message-avatar {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
        }

        .medibot-message.user .medibot-message-avatar {
            background: #e5e7eb;
            color: #4b5563;
        }

        .medibot-message-bubble {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
            word-wrap: break-word;
        }

        .medibot-message.bot .medibot-message-bubble {
            background: white;
            color: #374151;
            border-bottom-left-radius: 4px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .medibot-message.user .medibot-message-bubble {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border-bottom-right-radius: 4px;
        }

        /* Typing Indicator */
        .medibot-typing-bubble {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            height: 100%;
        }

        .medibot-typing-dot {
            width: 8px;
            height: 8px;
            background: #9ca3af;
            border-radius: 50%;
            animation: medibot-typing 1.4s infinite ease-in-out;
        }

        .medibot-typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .medibot-typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes medibot-typing {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-6px);
            }
        }

        /* Warning Banner */
        .medibot-warning {
            background: #fef3c7;
            padding: 12px 16px;
            font-size: 11px;
            color: #92400e;
            display: flex;
            gap: 8px;
            align-items: flex-start;
            border-top: 1px solid #fde68a;
            flex-shrink: 0;
        }

        .medibot-warning svg {
            width: 14px;
            height: 14px;
            fill: #f59e0b;
            flex-shrink: 0;
            margin-top: 1px;
        }

        /* Input Area */
        .medibot-input-area {
            padding: 16px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 8px;
            flex-shrink: 0;
        }

        .medibot-input {
            flex: 1;
            padding: 10px 16px;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .medibot-input:focus {
            border-color: #4f46e5;
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
        }

        .medibot-send-btn {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s, opacity 0.2s;
            flex-shrink: 0;
        }

        .medibot-send-btn:hover:not(:disabled) {
            transform: scale(1.05);
        }

        .medibot-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .medibot-send-btn svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .medibot-window {
                width: 100%;
                max-width: 100%;
                height: 100%;
                max-height: 100%;
                right: 0;
                bottom: 0;
                border-radius: 0;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #f1f8e9 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Language Toggle Button */
        .language-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .lang-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .lang-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .lang-icon {
            font-size: 1.2em;
        }

        /* Landing Section */
        .landing-section {
            text-align: center;
            padding: 60px 20px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .landing-section h1 {
            color: #1976d2;
            font-size: 2.2em;
            margin-bottom: 30px;
        }

        .qr-container {
            margin: 30px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 15px;
            display: inline-block;
        }

        .qr-container img {
            border: 5px solid white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .qr-instruction {
            margin: 20px 0;
            font-size: 1.1em;
            color: #666;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1976d2 0%, #2196f3 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(25, 118, 210, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 30px;
            font-size: 1em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        /* Registration Form Section */
        .form-section {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
            display: none;
        }

        .form-section.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-section h2 {
            color: #1976d2;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1976d2;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Confirmation Section */
        .confirmation-section {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
            display: none;
            text-align: center;
        }

        .confirmation-section.active {
            display: block;
            animation: bounceIn 0.6s ease-out;
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .success-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .confirmation-section h2 {
            color: #4caf50;
            margin-bottom: 30px;
            font-size: 1.8em;
        }

        .token-display {
            background: linear-gradient(135deg, #1976d2 0%, #2196f3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 1.5em;
            font-weight: bold;
        }

        .queue-info {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .queue-info-text {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .queue-status {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .queue-status h3 {
            margin-bottom: 15px;
            color: #1976d2;
        }

        .queue-number {
            font-size: 3em;
            color: #1976d2;
            font-weight: bold;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .landing-section h1 {
                font-size: 1.6em;
            }

            .form-section {
                padding: 25px;
            }

            .btn-primary {
                padding: 12px 30px;
                font-size: 1em;
            }

            .language-toggle {
                top: 10px;
                right: 10px;
            }

            .lang-btn {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="medibot-widget">
        <!-- Floating Button -->
        <button class="medibot-fab" id="medibot-fab" aria-label="Toggle chat">
            <svg class="medibot-fab-icon-open" viewBox="0 0 24 24">
                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z" />
            </svg>
            <svg class="medibot-fab-icon-close" viewBox="0 0 24 24">
                <path
                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
            </svg>
        </button>

        <!-- Chat Window -->
        <div class="medibot-window" id="medibot-window">
            <!-- Header -->
            <div class="medibot-header">
                <div class="medibot-header-avatar">ü©∫</div>
                <div class="medibot-header-info">
                    <h3>MediBot Assistant</h3>
                    <div class="medibot-header-status">
                        <span class="medibot-status-dot"></span>
                        <span>Online</span>
                    </div>
                </div>
            </div>

            <!-- Messages -->
            <div class="medibot-messages" id="medibot-messages">
                <!-- Initial bot message is now added dynamically via JS -->
            </div>

            <!-- Warning -->
            <div class="medibot-warning">
                <svg viewBox="0 0 24 24">
                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                </svg>
                <div><strong>Disclaimer:</strong> This AI provides informational guidance only. Always consult a
                    certified doctor for diagnosis.</div>
            </div>

            <!-- Input -->
            <form class="medibot-input-area" id="medibot-form">
                <input type="text" class="medibot-input" id="medibot-input" placeholder="Type your medical question..."
                    autocomplete="off" />
                <button type="submit" class="medibot-send-btn" id="medibot-send">
                    <svg viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                    </svg>
                </button>
            </form>
        </div>
    </div>
    <!-- Language Toggle Button -->
    <div class="language-toggle">
        <button class="lang-btn" id="langToggle" onclick="toggleLanguage()">
            <span class="lang-icon">üåê</span>
            <span id="langBtnText">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
        </button>
    </div>
    <div class="container">
        <!-- Landing Section with QR Code -->
        <section class="landing-section" id="landing">
            <h1 id="mainHeading">üè• Scan to Register for Consultation</h1>

            <div class="qr-container">
                <img src="image.png" alt="Scan to Register">
            </div>

            <p class="qr-instruction" id="qrInstruction">Scan the QR code or click the button below</p>

            <button class="btn-primary" id="startRegBtn" onclick="scrollToForm()">Start Registration</button>
        </section>

        <!-- Patient Registration Form -->
        <section class="form-section" id="registrationForm">
            <h2 id="formHeading">Patient Registration</h2>

            <form id="patientForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <label id="nameLabel">Name</label>
                    <input type="text" id="name" required>
                </div>

                <div class="form-group">
                    <label id="ageLabel">Age</label>
                    <input type="number" id="age" min="1" max="120" required>
                </div>

                <div class="form-group">
                    <label id="genderLabel">Gender</label>
                    <select id="gender" required>
                        <option value="" id="selectOption">Select</option>
                        <option value="Male" id="maleOption">Male</option>
                        <option value="Female" id="femaleOption">Female</option>
                        <option value="Other" id="otherOption">Other</option>
                        </ padding: 10px 20px; font-size: 0.9em; } } .hidden { display: none; } </style>
                        </head>

                        <body>
                            <!-- Language Toggle Button -->
                            <div class="language-toggle">
                                <button class="lang-btn" id="langToggle" onclick="toggleLanguage()">
                                    <span class="lang-icon">üåê</span>
                                    <span id="langBtnText">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
                                </button>
                            </div>

                            <div class="container">
                                <!-- Landing Section with QR Code -->
                                <section class="landing-section" id="landing">
                                    <h1 id="mainHeading">üè• Scan to Register for Consultation</h1>

                                    <div class="qr-container">
                                        <img src="Unknown27s/qr/image.png" alt="Scan to Register">
                                    </div>

                                    <p class="qr-instruction" id="qrInstruction">Scan the QR code or click the button
                                        below</p>

                                    <button class="btn-primary" id="startRegBtn" onclick="scrollToForm()">Start
                                        Registration</button>
                                </section>

                                <!-- Patient Registration Form -->
                                <section class="form-section" id="registrationForm">
                                    <h2 id="formHeading">Patient Registration</h2>

                                    <form id="patientForm" onsubmit="handleSubmit(event)">
                                        <div class="form-group">
                                            <label id="nameLabel">Name</label>
                                            <input type="text" id="name" required>
                                        </div>

                                        <div class="form-group">
                                            <label id="ageLabel">Age</label>
                                            <input type="number" id="age" min="1" max="120" required>
                                        </div>

                                        <div class="form-group">
                                            <label id="genderLabel">Gender</label>
                                            <select id="gender" required>
                                                <option value="" id="selectOption">Select</option>
                                                <option value="Male" id="maleOption">Male</option>
                                                <option value="Female" id="femaleOption">Female</option>
                                                <option value="Other" id="otherOption">Other</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label id="deptLabel">Department</label>
                                            <select id="department" required>
                                                <option value="" id="selectDeptOption">Select</option>
                                                <option value="GEN" id="genOption">General</option>
                                                <option value="ENT" id="entOption">ENT</option>
                                                <option value="CAR" id="carOption">Cardiology</option>
                                                <option value="ORT" id="ortOption">Orthopedics</option>
                                                <option value="PED" id="pedOption">Pediatrics</option>
                                                <option value="DER" id="derOption">Dermatology</option>
                                                <option value="NEU" id="neuOption">Neurology</option>
                                            </select>
                                        </div>

                                        <div class="form-group">
                                            <label id="contactLabel">Contact Number</label>
                                            <input type="tel" id="contact" pattern="[0-9]{10}"
                                                placeholder="10 digit number" required>
                                        </div>

                                        <div class="form-group">
                                            <label id="symptomsLabel">Symptoms / Reason for Visit</label>
                                            <textarea id="symptoms" required></textarea>
                                        </div>

                                        <button type="submit" class="btn-primary" id="submitBtn">Submit
                                            Registration</button>
                                    </form>
                                </section>

                                <!-- Confirmation Section -->
                                <section class="confirmation-section" id="confirmation">
                                    <div class="success-icon">‚úÖ</div>
                                    <h2 id="successHeading">Registration Successful!</h2>

                                    <div class="token-display">
                                        <span id="tokenLabel">Your Token Number</span><br>
                                        <span id="tokenNumber" style="font-size: 1.2em;"></span>
                                    </div>

                                    <div class="queue-info">
                                        <p class="queue-info-text">
                                            <strong id="peopleBeforeLabel">People before you:</strong>
                                        </p>
                                        <div class="queue-number" id="queuePosition">0</div>
                                    </div>

                                    <button class="btn-secondary" id="refreshBtn" onclick="checkQueueStatus()">
                                        Refresh Queue Status
                                    </button>

                                    <div class="queue-status" id="queueStatus" style="display: none;">
                                        <h3 id="liveQueueHeading">Live Queue Updates</h3>
                                        <p id="statusMessage"></p>
                                    </div>

                                    <button class="btn-primary" id="registerAnotherBtn" onclick="registerAnother()"
                                        style="margin-top: 20px;">
                                        Register Another Patient
                                    </button>
                                </section>

                                <!-- Footer -->
                                <footer>
                                    <p id="footerText">&copy; 2025 Hospital Queue Management System</p>
                                </footer>
                            </div>

                            <script>
                                /*
                                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                MULTI-LANGUAGE SUPPORT SYSTEM
                                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                
                                This system allows instant language switching without page reload.
                                The selected language is saved in localStorage and persists across sessions.
                                
                                HOW TO ADD MORE LANGUAGES:
                                --------------------------
                                1. Add a new language object to the 'translations' object below
                                2. Copy the structure from 'en' or 'ta'
                                3. Translate all text values to your new language
                                4. Update the toggleLanguage() function to cycle through languages
                                
                                Example for adding Hindi:
                                translations.hi = {
                                    mainHeading: "‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç",
                                    ... (add all other translations)
                                };
                                */

                                // Language translations object
                                const translations = {
                                    en: {
                                        langBtn: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç',
                                        mainHeading: 'üè• Scan to Register for Consultation',
                                        qrInstruction: 'Scan the QR code or click the button below',
                                        startRegBtn: 'Start Registration',
                                        formHeading: 'Patient Registration',
                                        nameLabel: 'Name',
                                        ageLabel: 'Age',
                                        genderLabel: 'Gender',
                                        selectOption: 'Select',
                                        maleOption: 'Male',
                                        femaleOption: 'Female',
                                        otherOption: 'Other',
                                        deptLabel: 'Department',
                                        selectDeptOption: 'Select',
                                        genOption: 'General',
                                        entOption: 'ENT',
                                        carOption: 'Cardiology',
                                        ortOption: 'Orthopedics',
                                        pedOption: 'Pediatrics',
                                        derOption: 'Dermatology',
                                        neuOption: 'Neurology',
                                        contactLabel: 'Contact Number',
                                        symptomsLabel: 'Symptoms / Reason for Visit',
                                        submitBtn: 'Submit Registration',
                                        successHeading: 'Registration Successful!',
                                        tokenLabel: 'Your Token Number',
                                        peopleBeforeLabel: 'People before you:',
                                        refreshBtn: 'Refresh Queue Status',
                                        liveQueueHeading: 'Live Queue Updates',
                                        registerAnotherBtn: 'Register Another Patient',
                                        footerText: '¬© 2025 Hospital Queue Management System',
                                        yourTurn: 'üéâ It\'s your turn! Please proceed to the consultation room.',
                                        youreNext: '‚è≥ You\'re next! Please be ready.',
                                        peopleBeforeYou: '‚ÑπÔ∏è There are <strong>{{count}}</strong> people before you.'
                                    },
                                    ta: {
                                        langBtn: 'English',
                                        mainHeading: 'üè• ‡ÆÜ‡Æ≤‡Øã‡Æö‡Æ©‡Øà‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ ‡Æ∏‡Øç‡Æï‡Øá‡Æ©‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        qrInstruction: 'QR ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡ØÄ‡Æü‡Øç‡Æü‡Øà ‡Æ∏‡Øç‡Æï‡Øá‡Æ©‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡ØÄ‡Æ¥‡Øá ‡Æâ‡Æ≥‡Øç‡Æ≥ ‡Æ™‡Øä‡Æ§‡Øç‡Æ§‡Ææ‡Æ©‡Øà‡Æï‡Øç ‡Æï‡Æø‡Æ≥‡Æø‡Æï‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        startRegBtn: '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æ§‡Øä‡Æü‡Æô‡Øç‡Æï‡ØÅ',
                                        formHeading: '‡Æ®‡Øã‡ÆØ‡Ææ‡Æ≥‡Æø ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æ™‡Æü‡Æø‡Æµ‡ÆÆ‡Øç',
                                        nameLabel: '‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç',
                                        ageLabel: '‡Æµ‡ÆØ‡Æ§‡ØÅ',
                                        genderLabel: '‡Æ™‡Ææ‡Æ≤‡Æø‡Æ©‡ÆÆ‡Øç',
                                        selectOption: '‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        maleOption: '‡ÆÜ‡Æ£‡Øç',
                                        femaleOption: '‡Æ™‡ØÜ‡Æ£‡Øç',
                                        otherOption: '‡ÆÆ‡Æ±‡Øç‡Æ±‡Æµ‡Øà',
                                        deptLabel: '‡Æ§‡ØÅ‡Æ±‡Øà',
                                        selectDeptOption: '‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        genOption: '‡Æ™‡Øä‡Æ§‡ØÅ',
                                        entOption: '‡Æï‡Ææ‡Æ§‡ØÅ ‡ÆÆ‡ØÇ‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Øä‡Æ£‡Øç‡Æü‡Øà',
                                        carOption: '‡Æá‡Æ§‡ÆØ ‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Øç',
                                        ortOption: '‡Æé‡Æ≤‡ØÅ‡ÆÆ‡Øç‡Æ™‡Æø‡ÆØ‡Æ≤‡Øç',
                                        pedOption: '‡Æï‡ØÅ‡Æ¥‡Æ®‡Øç‡Æ§‡Øà‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Øç',
                                        derOption: '‡Æ§‡Øã‡Æ≤‡Øç ‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Øç',
                                        neuOption: '‡Æ®‡Æ∞‡ÆÆ‡Øç‡Æ™‡Æø‡ÆØ‡Æ≤‡Øç',
                                        contactLabel: '‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç',
                                        symptomsLabel: '‡ÆÖ‡Æ±‡Æø‡Æï‡ØÅ‡Æ±‡Æø‡Æï‡Æ≥‡Øç / ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æï‡Ææ‡Æ∞‡Æ£‡ÆÆ‡Øç',
                                        submitBtn: '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ÆÆ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        successHeading: '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ!',
                                        tokenLabel: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æü‡Øã‡Æï‡Øç‡Æï‡Æ©‡Øç ‡Æé‡Æ£‡Øç',
                                        peopleBeforeLabel: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡ØÅ‡Æ©‡Øç:',
                                        refreshBtn: '‡Æµ‡Æ∞‡Æø‡Æö‡Øà ‡Æ®‡Æø‡Æ≤‡Øà‡ÆØ‡Øà‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ§‡ØÅ‡Æ™‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                                        liveQueueHeading: '‡Æ®‡Øá‡Æ∞‡Æ≤‡Øà ‡Æµ‡Æ∞‡Æø‡Æö‡Øà ‡Æ™‡ØÅ‡Æ§‡ØÅ‡Æ™‡Øç‡Æ™‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç',
                                        registerAnotherBtn: '‡ÆÆ‡Æ±‡Øç‡Æ±‡Øä‡Æ∞‡ØÅ ‡Æ®‡Øã‡ÆØ‡Ææ‡Æ≥‡Æø‡ÆØ‡Øà ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï',
                                        footerText: '¬© 2025 ‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Æ©‡Øà ‡Æµ‡Æ∞‡Æø‡Æö‡Øà ‡ÆÆ‡Øá‡Æ≤‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà ‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ',
                                        yourTurn: 'üéâ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡ØÅ‡Æ±‡Øà! ‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡ÆÜ‡Æ≤‡Øã‡Æö‡Æ©‡Øà ‡ÆÖ‡Æ±‡Øà‡Æï‡Øç‡Æï‡ØÅ‡Æö‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡Æµ‡ØÅ‡ÆÆ‡Øç.',
                                        youreNext: '‚è≥ ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æµ‡Æ∞‡Øç! ‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æ§‡ÆØ‡Ææ‡Æ∞‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.',
                                        peopleBeforeYou: '‚ÑπÔ∏è ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡ØÅ‡Æ©‡Øç <strong>{{count}}</strong> ‡Æ™‡Øá‡Æ∞‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ©‡Æ∞‡Øç.'
                                    }
                                };

                                // Current language (default: English)
                                let currentLang = 'en';

                                // Initialize language from localStorage or default to English
                                function initializeLanguage() {
                                    const savedLang = localStorage.getItem('preferredLanguage');
                                    if (savedLang && translations[savedLang]) {
                                        currentLang = savedLang;
                                        applyLanguage(currentLang);
                                    }
                                }

                                // Toggle between languages
                                function toggleLanguage() {
                                    // Switch between English and Tamil
                                    currentLang = currentLang === 'en' ? 'ta' : 'en';

                                    // Save preference to localStorage
                                    localStorage.setItem('preferredLanguage', currentLang);

                                    // Apply the new language
                                    applyLanguage(currentLang);
                                }

                                // Apply language to all text elements
                                function applyLanguage(lang) {
                                    const t = translations[lang];

                                    // Update language button
                                    document.getElementById('langBtnText').textContent = t.langBtn;

                                    // Update landing section
                                    document.getElementById('mainHeading').textContent = t.mainHeading;
                                    document.getElementById('qrInstruction').textContent = t.qrInstruction;
                                    document.getElementById('startRegBtn').textContent = t.startRegBtn;

                                    // Update form section
                                    document.getElementById('formHeading').textContent = t.formHeading;
                                    document.getElementById('nameLabel').textContent = t.nameLabel;
                                    document.getElementById('ageLabel').textContent = t.ageLabel;
                                    document.getElementById('genderLabel').textContent = t.genderLabel;
                                    document.getElementById('selectOption').textContent = t.selectOption;
                                    document.getElementById('maleOption').textContent = t.maleOption;
                                    document.getElementById('femaleOption').textContent = t.femaleOption;
                                    document.getElementById('otherOption').textContent = t.otherOption;
                                    document.getElementById('deptLabel').textContent = t.deptLabel;
                                    document.getElementById('selectDeptOption').textContent = t.selectDeptOption;
                                    document.getElementById('genOption').textContent = t.genOption;
                                    document.getElementById('entOption').textContent = t.entOption;
                                    document.getElementById('carOption').textContent = t.carOption;
                                    document.getElementById('ortOption').textContent = t.ortOption;
                                    document.getElementById('pedOption').textContent = t.pedOption;
                                    document.getElementById('derOption').textContent = t.derOption;
                                    document.getElementById('neuOption').textContent = t.neuOption;
                                    document.getElementById('contactLabel').textContent = t.contactLabel;
                                    document.getElementById('symptomsLabel').textContent = t.symptomsLabel;
                                    document.getElementById('submitBtn').textContent = t.submitBtn;

                                    // Update confirmation section
                                    document.getElementById('successHeading').textContent = t.successHeading;
                                    document.getElementById('tokenLabel').textContent = t.tokenLabel;
                                    document.getElementById('peopleBeforeLabel').textContent = t.peopleBeforeLabel;
                                    document.getElementById('refreshBtn').textContent = t.refreshBtn;
                                    document.getElementById('liveQueueHeading').textContent = t.liveQueueHeading;
                                    document.getElementById('registerAnotherBtn').textContent = t.registerAnotherBtn;

                                    // Update footer
                                    document.getElementById('footerText').textContent = t.footerText;

                                    // Update placeholder
                                    document.getElementById('contact').placeholder = lang === 'en' ? '10 digit number' : '10 ‡Æá‡Æ≤‡Æï‡Øç‡Æï ‡Æé‡Æ£‡Øç';

                                    // Refresh queue status message if visible
                                    if (document.getElementById('queueStatus').style.display !== 'none') {
                                        checkQueueStatus();
                                    }
                                }

                                // Get translated text for queue status messages
                                function getTranslatedQueueMessage(position) {
                                    const t = translations[currentLang];

                                    if (position === 0) {
                                        return `<p style="color: #4caf50; font-size: 1.2em; font-weight: bold;">${t.yourTurn}</p>`;
                                    } else if (position === 1) {
                                        return `<p style="color: #ff9800; font-size: 1.1em;">${t.youreNext}</p>`;
                                    } else {
                                        return `<p style="color: #1976d2;">${t.peopleBeforeYou.replace('{{count}}', position)}</p>`;
                                    }
                                }

                                // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                // QUEUE MANAGEMENT SYSTEM (from original code)
                                // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

                                let currentToken = '';
                                let currentDepartment = '';
                                let autoRefreshInterval = null;

                                function initializeStorage() {
                                    if (!localStorage.getItem('hospitalQueue')) {
                                        localStorage.setItem('hospitalQueue', JSON.stringify([]));
                                    }
                                }

                                function scrollToForm() {
                                    document.getElementById('registrationForm').classList.add('active');
                                    document.getElementById('registrationForm').scrollIntoView({
                                        behavior: 'smooth',
                                        block: 'start'
                                    });
                                }

                                function generateToken(department) {
                                    const queue = JSON.parse(localStorage.getItem('hospitalQueue')) || [];
                                    const deptTokens = queue.filter(patient =>
                                        patient.department === department && patient.status === 'Waiting'
                                    );
                                    const tokenNumber = String(deptTokens.length + 1).padStart(3, '0');
                                    return `${department}${tokenNumber}`;
                                }

                                function getQueuePosition(token, department) {
                                    const queue = JSON.parse(localStorage.getItem('hospitalQueue')) || [];
                                    const waitingPatients = queue.filter(patient =>
                                        patient.department === department &&
                                        patient.status === 'Waiting' &&
                                        patient.token < token
                                    );
                                    return waitingPatients.length;
                                }

                                function handleSubmit(event) {
                                    event.preventDefault();

                                    const name = document.getElementById('name').value;
                                    const age = document.getElementById('age').value;
                                    const gender = document.getElementById('gender').value;
                                    const department = document.getElementById('department').value;
                                    const contact = document.getElementById('contact').value;
                                    const symptoms = document.getElementById('symptoms').value;

                                    const token = generateToken(department);

                                    const patient = {
                                        token: token,
                                        department: department,
                                        name: name,
                                        age: age,
                                        gender: gender,
                                        contact: contact,
                                        symptoms: symptoms,
                                        status: 'Waiting',
                                        registeredAt: new Date().toISOString(),
                                        timestamp: Date.now()
                                    };

                                    const queue = JSON.parse(localStorage.getItem('hospitalQueue')) || [];
                                    queue.push(patient);
                                    localStorage.setItem('hospitalQueue', JSON.stringify(queue));

                                    currentToken = token;
                                    currentDepartment = department;

                                    showConfirmation(token, department);
                                }

                                function showConfirmation(token, department) {
                                    document.getElementById('registrationForm').classList.remove('active');

                                    const position = getQueuePosition(token, department);

                                    document.getElementById('tokenNumber').textContent = token;
                                    document.getElementById('queuePosition').textContent = position;

                                    document.getElementById('confirmation').classList.add('active');
                                    document.getElementById('confirmation').scrollIntoView({
                                        behavior: 'smooth',
                                        block: 'start'
                                    });

                                    startAutoRefresh();
                                }

                                function checkQueueStatus() {
                                    const position = getQueuePosition(currentToken, currentDepartment);
                                    document.getElementById('queuePosition').textContent = position;

                                    const statusDiv = document.getElementById('queueStatus');
                                    const statusMsg = document.getElementById('statusMessage');

                                    statusDiv.style.display = 'block';
                                    statusMsg.innerHTML = getTranslatedQueueMessage(position);

                                    if (position === 0) {
                                        stopAutoRefresh();
                                    }
                                }

                                function startAutoRefresh() {
                                    if (autoRefreshInterval) {
                                        clearInterval(autoRefreshInterval);
                                    }
                                    autoRefreshInterval = setInterval(() => {
                                        checkQueueStatus();
                                    }, 5000);
                                }

                                function stopAutoRefresh() {
                                    if (autoRefreshInterval) {
                                        clearInterval(autoRefreshInterval);
                                        autoRefreshInterval = null;
                                    }
                                }

                                function registerAnother() {
                                    stopAutoRefresh();
                                    document.getElementById('patientForm').reset();
                                    document.getElementById('confirmation').classList.remove('active');
                                    document.getElementById('registrationForm').classList.add('active');
                                    document.getElementById('registrationForm').scrollIntoView({
                                        behavior: 'smooth',
                                        block: 'start'
                                    });
                                }

                                // Initialize everything on page load
                                window.onload = function () {
                                    initializeStorage();
                                    initializeLanguage(); // Initialize language preference
                                };

                                window.onbeforeunload = function () {
                                    stopAutoRefresh();
                                };

                                /*
                                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                INTEGRATION GUIDE FOR DOCTOR & NURSE DASHBOARDS
                                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                
                                [Previous integration guide remains the same...]
                                
                                LANGUAGE INTEGRATION:
                                --------------------
                                To use the same language system in other dashboards:
                                
                                1. Copy the translations object and language functions
                                2. Add translation keys for your dashboard-specific text
                                3. Call initializeLanguage() on page load
                                4. Use applyLanguage() to update text when language changes
                                
                                Example for doctor dashboard:
                                
                                translations.en.doctorDashboard = "Doctor Dashboard";
                                translations.ta.doctorDashboard = "‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡Æ∞‡Øç ‡Æ™‡Æ≤‡Æï‡Øà";
                                
                                Then in applyLanguage():
                                document.getElementById('dashboardTitle').textContent = t.doctorDashboard;
                                
                                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                */
                            </script>
                            <script type="module">
                                import { GoogleGenAI } from "https://aistudiocdn.com/@google/genai@^1.28.0";

                                // --- CONFIGURATION ---

                                // PASTE YOUR GEMINI API KEY HERE
                                const API_KEY = "AIzaSyCe_3sX0PA4dRh0r7s7UzWD-ys0YePULH4";

                                const SYSTEM_PROMPT = `You are MediBot, an AI medical assistant in a hospital system. 
                            
                                    STRICT RULES:
                                    1. ONLY respond to medical/healthcare queries:
                                       - Symptoms, diseases, conditions
                                       - Treatments, medications, procedures
                                       - Appointments, hospital services
                                       - Doctor specializations, departments
                                       - Medical tests, diagnostics
                                       - Health and wellness advice
                            
                                    2. For NON-MEDICAL queries, respond: "I'm MediBot, a medical assistant. I can only help with health-related questions. Please ask about symptoms, treatments, appointments, or hospital services."
                            
                                    3. Always add the disclaimer: "This is general information. Please consult a healthcare professional for personalized medical advice." at the end of every medical response.
                            
                                    4. For urgent symptoms (e.g., chest pain, severe bleeding, difficulty breathing, sudden weakness), immediately say: "This sounds urgent. Please seek immediate medical attention or call emergency services." and stop the conversation.
                            
                                    5. Be empathetic, clear, and use simple language. Avoid overly technical jargon.
                            
                                    6. Keep responses concise and helpful. Use formatting like bullet points (e.g., "* item") to improve readability.`;

                                const INITIAL_GREETING = `Hello! I'm MediBot, your AI medical assistant. I can help you with:<br><br>
                                                    &bull; Symptom analysis<br>
                                                    &bull; Treatment information<br>
                                                    &bull; Appointment guidance<br>
                                                    &bull; Hospital services<br><br>
                                                    How can I assist you today?`;

                                // --- DOM ELEMENTS ---
                                const fab = document.getElementById('medibot-fab');
                                const windowEl = document.getElementById('medibot-window');
                                const messagesEl = document.getElementById('medibot-messages');
                                const formEl = document.getElementById('medibot-form');
                                const inputEl = document.getElementById('medibot-input');
                                const sendBtn = document.getElementById('medibot-send');

                                // --- STATE ---
                                let isOpen = false;
                                let isLoading = false;
                                let isInitialized = false;
                                let chat = null;

                                // --- UI FUNCTIONS ---
                                function toggleChat() {
                                    isOpen = !isOpen;
                                    windowEl.classList.toggle('active');
                                    fab.classList.toggle('active');
                                    if (isOpen) {
                                        inputEl.focus();
                                    }
                                }

                                function scrollToBottom() {
                                    messagesEl.scrollTop = messagesEl.scrollHeight;
                                }

                                function escapeHtml(text) {
                                    const div = document.createElement('div');
                                    div.textContent = text;
                                    return div.innerHTML;
                                }

                                function formatMessageText(text) {
                                    let safeText = escapeHtml(text);
                                    // Bold: **text** -> <strong>text</strong>
                                    safeText = safeText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                                    // Unordered lists: * item or - item -> &bull; item
                                    safeText = safeText.replace(/^\s*[\*-]\s+(.*)/gm, '&bull; $1');
                                    // Newlines -> <br>
                                    safeText = safeText.replace(/\n/g, '<br />');
                                    // Clean up extra breaks that might be created by the list conversion
                                    safeText = safeText.replace(/<br \/>&bull;/g, '&bull;');
                                    return safeText;
                                }

                                function addMessage(text, role, isFormatted = false) {
                                    const messageDiv = document.createElement('div');
                                    messageDiv.className = `medibot-message ${role}`;

                                    const avatar = role === 'bot' ? 'ü©∫' : 'üë§';
                                    const messageContent = isFormatted ? text : formatMessageText(text);

                                    messageDiv.innerHTML = `
                                            <div class="medibot-message-avatar">${avatar}</div>
                                            <div class="medibot-message-bubble">${messageContent}</div>`;

                                    messagesEl.appendChild(messageDiv);
                                    scrollToBottom();
                                }

                                function showTypingIndicator() {
                                    const typingDiv = document.createElement('div');
                                    typingDiv.id = 'medibot-typing-indicator';
                                    typingDiv.className = 'medibot-message bot';
                                    typingDiv.innerHTML = `
                                            <div class="medibot-message-avatar">ü©∫</div>
                                            <div class="medibot-message-bubble">
                                                <div class="medibot-typing-bubble">
                                                    <span class="medibot-typing-dot"></span>
                                                    <span class="medibot-typing-dot"></span>
                                                    <span class="medibot-typing-dot"></span>
                                                </div>
                                            </div>`;
                                    messagesEl.appendChild(typingDiv);
                                    scrollToBottom();
                                }

                                function removeTypingIndicator() {
                                    const indicator = document.getElementById('medibot-typing-indicator');
                                    if (indicator) indicator.remove();
                                }

                                function setLoadingState(loading) {
                                    isLoading = loading;
                                    inputEl.disabled = loading;
                                    sendBtn.disabled = loading;
                                    inputEl.placeholder = loading ? "MediBot is thinking..." : "Type your medical question...";
                                }

                                // --- API & INITIALIZATION ---
                                async function initializeApp() {
                                    if (!API_KEY || API_KEY === "YOUR_API_KEY_HERE") {
                                        console.error("MediBot Error: API_KEY is not set.");
                                        addMessage("‚ö†Ô∏è I'm currently unavailable due to a configuration issue. Please add a valid API key.", 'bot');
                                        setLoadingState(true);
                                        inputEl.placeholder = "Chat unavailable";
                                        return;
                                    }

                                    try {
                                        const ai = new GoogleGenAI({ apiKey: API_KEY });
                                        chat = ai.chats.create({
                                            model: 'gemini-2.5-flash',
                                            config: { systemInstruction: SYSTEM_PROMPT, temperature: 0.7 }
                                        });
                                        isInitialized = true;
                                        console.log("MediBot is initialized and ready.");
                                        addMessage(INITIAL_GREETING, 'bot', true);
                                    } catch (error) {
                                        console.error("MediBot Initialization Error:", error);
                                        addMessage("‚ö†Ô∏è I'm having trouble starting up. Please check the API key and refresh the page.", 'bot');
                                        setLoadingState(true);
                                        inputEl.placeholder = "Initialization failed";
                                    }
                                }

                                async function getBotResponse(userMessage) {
                                    if (!isInitialized || !chat) {
                                        return "I'm not ready yet. Please wait a moment or refresh the page.";
                                    }
                                    try {
                                        const result = await chat.sendMessage({ message: userMessage });
                                        return result.text;
                                    } catch (error) {
                                        console.error('Gemini API Error:', error);
                                        return "I apologize, but I'm having trouble connecting. Please try again in a moment.";
                                    }
                                }

                                // --- EVENT HANDLERS ---
                                async function handleFormSubmit(e) {
                                    e.preventDefault();
                                    const userText = inputEl.value.trim();
                                    if (!userText || isLoading || !isInitialized) return;

                                    addMessage(userText, 'user');
                                    inputEl.value = '';
                                    setLoadingState(true);
                                    showTypingIndicator();

                                    const botResponse = await getBotResponse(userText);

                                    removeTypingIndicator();
                                    addMessage(botResponse, 'bot');
                                    setLoadingState(false);
                                    inputEl.focus();
                                }

                                // --- STARTUP ---
                                fab.addEventListener('click', toggleChat);
                                formEl.addEventListener('submit', handleFormSubmit);
                                initializeApp();

                            </script>
                        </body>

</html>